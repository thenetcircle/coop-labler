{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Labler","title":"Home"},{"location":"#labler","text":"","title":"Labler"},{"location":"md/api/","text":"List projects Request: curl localhost:4343/api/v1/projects Response: { \"data\": [{ \"classes\": 3, \"created\": \"2019-04-16T07:46:22Z\", \"directory\": \"/data/dw/images/2019\", \"finished\": \"\", \"id\": 1, \"project_name\": \"some-project-name\", \"project_type\": \"localization\" }], \"message\": \"\", \"status_code\": 200 } Claim examples to label Calling this endpoint will return up to 10 claims. Calling this api twice without labeling any of the claims will return the same 10 claims. If a user labels e.g. 2 of these claims, then call this api again, the remaining 8 claims plus 2 new claims will be returned (if there are any remaining unclaimed examples). Request: curl localhost:4343/api/v1/claim/project/some-project-name/user/ a-user Response: { \"data\": [{ \"claimed_at\": \"2019-04-30T01:49:25Z\", \"claimed_by\": \"a-user\", \"file_name\": \"10033.jpg\", \"file_path\": \"/data/dw/images/2019\", \"id\": 21, \"project_name\": \"some-project-name\", \"status\": \"waiting\" }, { // [...] }, { \"claimed_at\": \"2019-04-17T07:38:04Z\", \"claimed_by\": \"a-user\", \"file_name\": \"cars.jpg\", \"file_path\": \"/tmp\", \"id\": 9, \"project_name\": \"some-project-name\", \"status\": \"waiting\" }], \"message\": \"\", \"status_code\": 200 } Get image for claim The image data is returned in base64 encoding. Request: curl localhost:4343/api/v1/image/ claim_id Response: { \"data\": { \"base64\": \"/9j/4AAQSkZJ[...]w2H7vFFFMR/9k=\", \"height\": 500, \"width\": 960 }, \"message\": \"\", \"status_code\": 200 } Submit labels for a claim Data: { \"project_type\": \"localization\", \"labels\": [{ \"xmin\": 12, \"xmax\": 90, \"ymin\": 210, \"ymax\": 280, \"target_class\": \"dog\" }] } Request: curl -X POST \\ -H 'Content-Type: application/json' \\ localhost:4343/api/v1/submit/<claim_id> \\ -d @data.json Or: curl -X POST \\ -H 'Content-Type: application/json' \\ localhost:4343/api/v1/submit/<claim_id> \\ -d '{\"project_type\":\"localization\",\"labels\":[{\"xmin\":12,\"xmax\":90,\"ymin\":210,\"ymax\":280,\"target_class\":\"dog\"}]}' Response: { \"data\": {}, \"message\": \"\", \"status_code\": 200 } Unique labels for project Returns a list of unique labels for a project. Request: curl localhost:4343/api/v1/labels/project/some-project-name Response: { \"data\": [ \"cat\", \"dog\" ], \"message\":\"\", \"status_code\":200 } Project overview Overview returns a list of labeled examples and a list of unlabeled examples. Each image is a 500x500 px thumbnail, where the label coordinates are positions on the full sized image, not the thumbnail. Request: curl localhost:4343/api/v1/overview/project/some-project-name Response: { \"data\": { \"done\": [{ \"base64\": \"/9j/4SkZJ[...]NFWLP/9k=\", \"height\": 500, \"width\": 500, \"labels\": [{ \"id\": 10, \"status\": \"finished\", \"target_class\": \"dog\", \"xmax\": 592, \"xmin\": 399, \"ymax\": 538, \"ymin\": 263 }, // [...] { \"id\": 11, \"status\": \"finished\", \"target_class\": \"cat\", \"xmax\": 791, \"xmin\": 625, \"ymax\": 520, \"ymin\": 262 }] }], \"remaining\": [{ \"base64\": \"/9j/4AA[...]P/9k=\", \"height\": 500, \"width\": 500, \"labels\": [] }] }, \"message\": \"\", \"status_code\": 200 }","title":"API"},{"location":"md/api/#list-projects","text":"Request: curl localhost:4343/api/v1/projects Response: { \"data\": [{ \"classes\": 3, \"created\": \"2019-04-16T07:46:22Z\", \"directory\": \"/data/dw/images/2019\", \"finished\": \"\", \"id\": 1, \"project_name\": \"some-project-name\", \"project_type\": \"localization\" }], \"message\": \"\", \"status_code\": 200 }","title":"List projects"},{"location":"md/api/#claim-examples-to-label","text":"Calling this endpoint will return up to 10 claims. Calling this api twice without labeling any of the claims will return the same 10 claims. If a user labels e.g. 2 of these claims, then call this api again, the remaining 8 claims plus 2 new claims will be returned (if there are any remaining unclaimed examples). Request: curl localhost:4343/api/v1/claim/project/some-project-name/user/ a-user Response: { \"data\": [{ \"claimed_at\": \"2019-04-30T01:49:25Z\", \"claimed_by\": \"a-user\", \"file_name\": \"10033.jpg\", \"file_path\": \"/data/dw/images/2019\", \"id\": 21, \"project_name\": \"some-project-name\", \"status\": \"waiting\" }, { // [...] }, { \"claimed_at\": \"2019-04-17T07:38:04Z\", \"claimed_by\": \"a-user\", \"file_name\": \"cars.jpg\", \"file_path\": \"/tmp\", \"id\": 9, \"project_name\": \"some-project-name\", \"status\": \"waiting\" }], \"message\": \"\", \"status_code\": 200 }","title":"Claim examples to label"},{"location":"md/api/#get-image-for-claim","text":"The image data is returned in base64 encoding. Request: curl localhost:4343/api/v1/image/ claim_id Response: { \"data\": { \"base64\": \"/9j/4AAQSkZJ[...]w2H7vFFFMR/9k=\", \"height\": 500, \"width\": 960 }, \"message\": \"\", \"status_code\": 200 }","title":"Get image for claim"},{"location":"md/api/#submit-labels-for-a-claim","text":"Data: { \"project_type\": \"localization\", \"labels\": [{ \"xmin\": 12, \"xmax\": 90, \"ymin\": 210, \"ymax\": 280, \"target_class\": \"dog\" }] } Request: curl -X POST \\ -H 'Content-Type: application/json' \\ localhost:4343/api/v1/submit/<claim_id> \\ -d @data.json Or: curl -X POST \\ -H 'Content-Type: application/json' \\ localhost:4343/api/v1/submit/<claim_id> \\ -d '{\"project_type\":\"localization\",\"labels\":[{\"xmin\":12,\"xmax\":90,\"ymin\":210,\"ymax\":280,\"target_class\":\"dog\"}]}' Response: { \"data\": {}, \"message\": \"\", \"status_code\": 200 }","title":"Submit labels for a claim"},{"location":"md/api/#unique-labels-for-project","text":"Returns a list of unique labels for a project. Request: curl localhost:4343/api/v1/labels/project/some-project-name Response: { \"data\": [ \"cat\", \"dog\" ], \"message\":\"\", \"status_code\":200 }","title":"Unique labels for project"},{"location":"md/api/#project-overview","text":"Overview returns a list of labeled examples and a list of unlabeled examples. Each image is a 500x500 px thumbnail, where the label coordinates are positions on the full sized image, not the thumbnail. Request: curl localhost:4343/api/v1/overview/project/some-project-name Response: { \"data\": { \"done\": [{ \"base64\": \"/9j/4SkZJ[...]NFWLP/9k=\", \"height\": 500, \"width\": 500, \"labels\": [{ \"id\": 10, \"status\": \"finished\", \"target_class\": \"dog\", \"xmax\": 592, \"xmin\": 399, \"ymax\": 538, \"ymin\": 263 }, // [...] { \"id\": 11, \"status\": \"finished\", \"target_class\": \"cat\", \"xmax\": 791, \"xmin\": 625, \"ymax\": 520, \"ymin\": 262 }] }], \"remaining\": [{ \"base64\": \"/9j/4AA[...]P/9k=\", \"height\": 500, \"width\": 500, \"labels\": [] }] }, \"message\": \"\", \"status_code\": 200 }","title":"Project overview"},{"location":"md/backend/","text":"TODO","title":"Backend"},{"location":"md/cli/","text":"Listing projects $ labler projects [-] listing projects project name project type classes directory --------------------------------------------------------------------- some-project-name localization 3 /data/dw/images/2019 Listing examples $ labler examples some-project-name [-] listing examples for project some-project-name width height file path file name ------------------------------------------------------------------------------------------ 433 768 /data/dw/images/2019 10044.jpg 1024 768 /data/dw/images/2019 10003.jpg 1024 576 /data/dw/images/2019 10090.jpg 432 768 /data/dw/images/2019 10023.jpg 433 768 /data/dw/images/2019 10064.jpg Creating a new project $ .labler create my-new-project-name --type localization --classes 2 --dir /data [-] creating project: my-new-project-name Adding training data to a project $ labler add my-new-project-name --dir /data/dw/images/2019 --cores 6 [-] adding directly \"/data/dw/images/2019\" to project: my-new-project-name finding data 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 94/94 [00:00<00:00, 5822.93it/s] creating thumbs 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 94/94 [00:12<00:00, 7.55it/s] Syncing examples with file system Remove examples from db if they no longer exist on the file system. $ rm /data/dw/images/2019/10007.jpg $ rm /data/dw/images/2019/10008.jpg $ ./bin/labler sync my-new-project-name [-] syncing project: my-new-project-name [!] example for /data/dw/images/2019/10007.jpg does not exist, disabling [!] example for /data/dw/images/2019/10008.jpg does not exist, disabling","title":"CLI"},{"location":"md/cli/#listing-projects","text":"$ labler projects [-] listing projects project name project type classes directory --------------------------------------------------------------------- some-project-name localization 3 /data/dw/images/2019","title":"Listing projects"},{"location":"md/cli/#listing-examples","text":"$ labler examples some-project-name [-] listing examples for project some-project-name width height file path file name ------------------------------------------------------------------------------------------ 433 768 /data/dw/images/2019 10044.jpg 1024 768 /data/dw/images/2019 10003.jpg 1024 576 /data/dw/images/2019 10090.jpg 432 768 /data/dw/images/2019 10023.jpg 433 768 /data/dw/images/2019 10064.jpg","title":"Listing examples"},{"location":"md/cli/#creating-a-new-project","text":"$ .labler create my-new-project-name --type localization --classes 2 --dir /data [-] creating project: my-new-project-name","title":"Creating a new project"},{"location":"md/cli/#adding-training-data-to-a-project","text":"$ labler add my-new-project-name --dir /data/dw/images/2019 --cores 6 [-] adding directly \"/data/dw/images/2019\" to project: my-new-project-name finding data 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 94/94 [00:00<00:00, 5822.93it/s] creating thumbs 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 94/94 [00:12<00:00, 7.55it/s]","title":"Adding training data to a project"},{"location":"md/cli/#syncing-examples-with-file-system","text":"Remove examples from db if they no longer exist on the file system. $ rm /data/dw/images/2019/10007.jpg $ rm /data/dw/images/2019/10008.jpg $ ./bin/labler sync my-new-project-name [-] syncing project: my-new-project-name [!] example for /data/dw/images/2019/10007.jpg does not exist, disabling [!] example for /data/dw/images/2019/10008.jpg does not exist, disabling","title":"Syncing examples with file system"},{"location":"md/usage/","text":"","title":"Usage"}]}